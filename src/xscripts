#!/bin/bash
man="xscripts - scripts for X

DESCRIPTION
        A set of functions to automate the X environment

ARGUMENTS
        -s, --set
            set X resources, open a terminal and kill it after 5 seconds

        -r [y] [x], --resize [y] [x]
            integers that corresponds to xterm lines and rows, respectively"

set_and_view_x_resources () {
  xrdb ~/.Xresources
  $TERM &>/dev/null &
  sleep 5s
  kill -9 $! &>/dev/null
  exit
}

resize_xterm () {
  re='^[0-9]+$'
  if [[ -z $1 ]] || [[ -z $2 ]] || ! [[ $1 =~ $re ]] || ! [[ $2 =~ $re ]]; 
  then 
    echo "$man"
    exit
  fi
  
  printf "\033[8;$1;$2t"
  exit
}

[[ "$1" == "-s" || "$1" == "--set" ]] && set_and_view_x_resources
[[ "$1" == "-r" || "$1" == "--resize" ]] && resize_xterm $2 $3

echo "$man"
